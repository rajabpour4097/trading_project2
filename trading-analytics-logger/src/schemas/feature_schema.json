import pandas as pd

# فرض کنید این داده‌ها را در طول زمان جمع‌آوری کرده‌اید
data = {
    'timestamp': [],
    'open_price': [],
    'close_price': [],
    'high_price': [],
    'low_price': [],
    'volume': [],
    'trade_type': [],
    'profit_loss': [],
    'market_condition': [],
}

# تابعی برای ذخیره‌سازی داده‌ها
def save_to_csv(data):
    df = pd.DataFrame(data)
    df.to_csv('trading_data.csv', index=False)

# در هر بار انجام معامله، داده‌ها را به لیست اضافه کنید
def record_trade(timestamp, open_price, close_price, high_price, low_price, volume, trade_type, profit_loss, market_condition):
    data['timestamp'].append(timestamp)
    data['open_price'].append(open_price)
    data['close_price'].append(close_price)
    data['high_price'].append(high_price)
    data['low_price'].append(low_price)
    data['volume'].append(volume)
    data['trade_type'].append(trade_type)
    data['profit_loss'].append(profit_loss)
    data['market_condition'].append(market_condition)

    # ذخیره‌سازی داده‌ها در فایل CSV
    save_to_csv(data)

# مثال از نحوه استفاده
record_trade('2023-10-01 12:00:00', 1.2000, 1.2050, 1.2070, 1.1990, 0.01, 'buy', 50, 'bullish')